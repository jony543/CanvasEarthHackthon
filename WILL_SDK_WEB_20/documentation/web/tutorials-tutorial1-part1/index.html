<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) & !(IE 8)]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>Setting up the ink engine | WILL SDK Docs</title>
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<link rel="pingback" href="http://localhost/will_docs_instance1/xmlrpc.php">
	<!--[if lt IE 9]>
	<script src="http://localhost/will_docs_instance1/wp-content/themes/will-doc/js/html5.js"></script>
	<![endif]-->

	<link rel="stylesheet" href="../../wp-content/themes/will-doc/css/style.css">
	<link rel="stylesheet" href="../../wp-content/themes/will-doc/css/accordionmenu.css">

	<script src="../../wp-content/themes/will-doc/js/jquery.min.js"></script>
	<script src="../../wp-content/themes/will-doc/js/sidebar.js"></script>

	<link rel="stylesheet" href="../../wp-content/themes/will-doc/css/highlight.css">
	<script src="../../wp-content/themes/will-doc/js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
</head>

<body>
	<header>
		<div class="title">
			<div>WILL &trade;</div>
			<div>sdk documentation</div>
		</div>
		<!--
		<div id="searchbox">
			<input class="typeahead" type="text" placeholder="{{ search_text }}">
		</div>
-->
	</header>

	<div id="sitewrapper">
<div id="sidebar">
	<nav class="accordion">

				<h1 class="do-not-cause-collapse" title="General Concepts">

			General Concepts
			</h1>

							<div class="active-menu never-close">
					<h2 class="not-collapsible" title="Architectural Overview">

								<a href="../../general-concepts/architecture/index.html"
											>Architectural Overview</a>
					
			</h2>

						<h2 class="not-collapsible" title="Generating ink content">

								<a href="../../general-concepts/path-building/index.html"
											>Generating ink content</a>
					
			</h2>

						<h2 class="not-collapsible" title="Rendering ink content">

								<a href="../../general-concepts/rasterizer/index.html"
											>Rendering ink content</a>
					
			</h2>

						<h2 class="not-collapsible" title="Encoding and decoding ink content">

								<a href="../../general-concepts/serialization/index.html"
											>Encoding and decoding ink content</a>
					
			</h2>

						<h2 class="not-collapsible" title="Exchanging ink content">

								<a href="../../general-concepts/file-format/index.html"
											>Exchanging ink content</a>
					
			</h2>

							</div>
							<h1 title="Web SDK">

			Web SDK
			</h1>

							<div>
					<h2 title="Getting started">

								<a href="../getting-started/index.html"
											>Getting started</a>
					
			</h2>

						<h2 title="Release Notes">

								<a href="../release-notes/index.html"
											>Release Notes</a>
					
			</h2>

						<h2 title="Tutorials">

								<a href="../tutorials-overview/index.html"
											>Tutorials</a>
					
			</h2>

							<div>
					<h3 title="Tutorial 1: Drawing with pointing devices">

								<a href="../tutorials-tutorial1/index.html"
											>Tutorial 1: Drawing with pointing devices</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Setting up the ink engine">

								<a href="index.html"
						 class="selected"					>Part 1: Setting up the ink engine</a>
					
			</h4>

						<h4 title="Part 2: Building paths from pointer input">

								<a href="../tutorials-tutorial1-part2/index.html"
											>Part 2: Building paths from pointer input</a>
					
			</h4>

						<h4 title="Part 3: Smoothing paths">

								<a href="../tutorials-tutorial1-part3/index.html"
											>Part 3: Smoothing paths</a>
					
			</h4>

						<h4 title="Part 4: Drawing preliminary paths">

								<a href="../tutorials-tutorial1-part4/index.html"
											>Part 4: Drawing preliminary paths</a>
					
			</h4>

						<h4 title="Part 5: Drawing semi-transparent strokes">

								<a href="../tutorials-tutorial1-part5/index.html"
											>Part 5: Drawing semi-transparent strokes</a>
					
			</h4>

						<h4 title="Part 6: Using a particle brush">

								<a href="../tutorials-tutorial1-part6/index.html"
											>Part 6: Using a particle brush</a>
					
			</h4>

						<h4 title="Part 7: Generating a Bezier path">

								<a href="../tutorials-tutorial1-part7/index.html"
											>Part 7: Generating a Bezier path</a>
					
			</h4>

							</div>
							<h3 title="Tutorial 2: Encoding and decoding strokes">

								<a href="../tutorials-tutorial2/index.html"
											>Tutorial 2: Encoding and decoding strokes</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Creating a stroke model">

								<a href="../tutorials-tutorial2-part1/index.html"
											>Part 1: Creating a stroke model</a>
					
			</h4>

						<h4 title="Part 2: Serializing and deserializing strokes">

								<a href="../tutorials-tutorial2-part2/index.html"
											>Part 2: Serializing and deserializing strokes</a>
					
			</h4>

							</div>
							<h3 title="Tutorial 3: Erasing strokes">

								<a href="../tutorials-tutorial3/index.html"
											>Tutorial 3: Erasing strokes</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Creating an eraser">

								<a href="../tutorials-tutorial3-part1/index.html"
											>Part 1: Creating an eraser</a>
					
			</h4>

						<h4 title="Part 2: Erasing parts of strokes">

								<a href="../tutorials-tutorial3-part2/index.html"
											>Part 2: Erasing parts of strokes</a>
					
			</h4>

							</div>
							<h3 title="Tutorial 4: Selecting strokes">

								<a href="../tutorials-tutorial4/index.html"
											>Tutorial 4: Selecting strokes</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Selecting strokes">

								<a href="../tutorials-tutorial4-part1/index.html"
											>Part 1: Selecting strokes</a>
					
			</h4>

						<h4 title="Part 2: Selecting parts of strokes">

								<a href="../tutorials-tutorial4-part2/index.html"
											>Part 2: Selecting parts of strokes</a>
					
			</h4>

							</div>
							<h3 title="Tutorial 5: Working with rasters">

								<a href="../tutorials-tutorial5/index.html"
											>Tutorial 5: Working with rasters</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Displaying raster images">

								<a href="../tutorials-tutorial5-part1/index.html"
											>Part 1: Displaying raster images</a>
					
			</h4>

						<h4 title="Part 2: Creating image masks">

								<a href="../tutorials-tutorial5-part2/index.html"
											>Part 2: Creating image masks</a>
					
			</h4>

							</div>
							<h3 title="Tutorial 6: Collaborating in real time">

								<a href="../tutorials-tutorial6/index.html"
											>Tutorial 6: Collaborating in real time</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Composing strokes">

								<a href="../tutorials-tutorial6-part1/index.html"
											>Part 1: Composing strokes</a>
					
			</h4>

						<h4 title="Part 2: Erasing strokes">

								<a href="../tutorials-tutorial6-part2/index.html"
											>Part 2: Erasing strokes</a>
					
			</h4>

						<h4 title="Part 3: Erasing parts of strokes">

								<a href="../tutorials-tutorial6-part3/index.html"
											>Part 3: Erasing parts of strokes</a>
					
			</h4>

						<h4 title="Part 4: Selecting strokes">

								<a href="../tutorials-tutorial6-part4/index.html"
											>Part 4: Selecting strokes</a>
					
			</h4>

						<h4 title="Part 5: Selecting parts of strokes">

								<a href="../tutorials-tutorial6-part5/index.html"
											>Part 5: Selecting parts of strokes</a>
					
			</h4>

						<h4 title="Part 6: Composing strokes with latency">

								<a href="../tutorials-tutorial6-part6/index.html"
											>Part 6: Composing strokes with latency</a>
					
			</h4>

							</div>
								</div>
							<h2 title="API Reference">

			API Reference
			</h2>

							<div>
					<h3 title="Classes">

			Classes
			</h3>

							<div>
					<h4 title="BezierPath">

								<a href="../../web-api/Module.BezierPath/index.html"
											>BezierPath</a>
					
			</h4>

						<h4 title="BrushDecoder">

								<a href="../../web-api/Module.BrushDecoder/index.html"
											>BrushDecoder</a>
					
			</h4>

						<h4 title="BrushEncoder">

								<a href="../../web-api/Module.BrushEncoder/index.html"
											>BrushEncoder</a>
					
			</h4>

						<h4 title="DirectBrush">

								<a href="../../web-api/Module.DirectBrush/index.html"
											>DirectBrush</a>
					
			</h4>

						<h4 title="FlatPath">

								<a href="../../web-api/Module.FlatPath/index.html"
											>FlatPath</a>
					
			</h4>

						<h4 title="GenericLayer">

								<a href="../../web-api/Module.GenericLayer/index.html"
											>GenericLayer</a>
					
			</h4>

						<h4 title="GenericPath">

								<a href="../../web-api/Module.GenericPath/index.html"
											>GenericPath</a>
					
			</h4>

						<h4 title="InkCanvas">

								<a href="../../web-api/Module.InkCanvas/index.html"
											>InkCanvas</a>
					
			</h4>

						<h4 title="InkDecoder">

								<a href="../../web-api/Module.InkDecoder/index.html"
											>InkDecoder</a>
					
			</h4>

						<h4 title="InkEncoder">

								<a href="../../web-api/Module.InkEncoder/index.html"
											>InkEncoder</a>
					
			</h4>

						<h4 title="Intersector">

								<a href="../../web-api/Module.Intersector/index.html"
											>Intersector</a>
					
			</h4>

						<h4 title="MultiChannelSmoothener">

								<a href="../../web-api/Module.MultiChannelSmoothener/index.html"
											>MultiChannelSmoothener</a>
					
			</h4>

						<h4 title="OffscreenLayer">

								<a href="../../web-api/Module.OffscreenLayer/index.html"
											>OffscreenLayer</a>
					
			</h4>

						<h4 title="ParticleBrush">

								<a href="../../web-api/Module.ParticleBrush/index.html"
											>ParticleBrush</a>
					
			</h4>

						<h4 title="PathBuilder">

								<a href="../../web-api/Module.PathBuilder/index.html"
											>PathBuilder</a>
					
			</h4>

						<h4 title="PathContext">

								<a href="../../web-api/Module.PathContext/index.html"
											>PathContext</a>
					
			</h4>

						<h4 title="PathOperationDecoder">

								<a href="../../web-api/Module.PathOperationDecoder/index.html"
											>PathOperationDecoder</a>
					
			</h4>

						<h4 title="PathOperationEncoder">

								<a href="../../web-api/Module.PathOperationEncoder/index.html"
											>PathOperationEncoder</a>
					
			</h4>

						<h4 title="PressurePathBuilder">

								<a href="../../web-api/Module.PressurePathBuilder/index.html"
											>PressurePathBuilder</a>
					
			</h4>

						<h4 title="SolidColorBrush">

								<a href="../../web-api/Module.SolidColorBrush/index.html"
											>SolidColorBrush</a>
					
			</h4>

						<h4 title="SpeedPathBuilder">

								<a href="../../web-api/Module.SpeedPathBuilder/index.html"
											>SpeedPathBuilder</a>
					
			</h4>

						<h4 title="Stroke">

								<a href="../../web-api/Module.Stroke/index.html"
											>Stroke</a>
					
			</h4>

						<h4 title="StrokeBrush">

								<a href="../../web-api/Module.StrokeBrush/index.html"
											>StrokeBrush</a>
					
			</h4>

						<h4 title="StrokeDrawContext">

								<a href="../../web-api/Module.StrokeDrawContext/index.html"
											>StrokeDrawContext</a>
					
			</h4>

						<h4 title="StrokeRenderer">

								<a href="../../web-api/Module.StrokeRenderer/index.html"
											>StrokeRenderer</a>
					
			</h4>

							</div>
							<h3 title="Interfaces">

			Interfaces
			</h3>

							<div>
					<h4 title="PathOperationDecoderCallbacksHandlerInterface">

								<a href="../../web-api/Module.PathOperationDecoderCallbacksHandlerInterface/index.html"
											>PathOperationDecoderCallbacksHandlerInterface</a>
					
			</h4>

							</div>
							<h3 title="Namespaces">

			Namespaces
			</h3>

							<div>
					<h4 title="Module">

								<a href="../../web-api/Module/index.html"
											>Module</a>
					
			</h4>

						<h4 title="Module.Color">

								<a href="../../web-api/Module.Color/index.html"
											>Module.Color</a>
					
			</h4>

						<h4 title="Module.GLTools">

								<a href="../../web-api/Module.GLTools/index.html"
											>Module.GLTools</a>
					
			</h4>

						<h4 title="Module.MatTools">

								<a href="../../web-api/Module.MatTools/index.html"
											>Module.MatTools</a>
					
			</h4>

						<h4 title="Module.RectTools">

								<a href="../../web-api/Module.RectTools/index.html"
											>Module.RectTools</a>
					
			</h4>

							</div>
							<h3 title="Global">

								<a href="../../web-api/global/index.html"
											>Global</a>
					
			</h3>

			
	</nav>
</div><div id="page_content" class='page-content tutorials web'>
	
<div id="post-45" class="page">
	<h1>Drawing with pointing devices</h1>
<p>WILL SDK provides a 2D drawing engine that focuses primarily on inking.
The central class of the engine is <a href="../../web-api/Module.InkCanvas/index.html">Module.InkCanvas</a>, which relies on the WebGL API and is a factory for creating other layers.
To use WILL SDK, your browser must support WebGL.</p>
<p>When the web page loads, it creates an instance of <code>WebGLRenderingContext</code> and associates it with an HTML <code>&lt;canvas&gt;</code> element.
The <code>Module</code> namespace contains a <code>canvas</code> property (ypu can change the default value if required) that is initialized by the <code>init</code> function with the canvas element.
The <code>WebGLRenderingContext</code> interface is accessible through the global variable <em>GLctx</em>.</p>
<p>In Part 1 of this tutorial, you will set up the rendering environment and draw a stroke on the canvas.</p>
<h2>Part 1: Setting up the ink engine</h2>
<p>In Part 1 of this tutorial, you will set up a rendering environment.</p>
<h3>Step 1: Configure an HTML file to include the engine</h3>
<p>Add the drawing engine to an HTML page as follows:</p>
<pre><code class="html">&lt;head&gt;
    &lt;script type="text/javascript" src="Module.js"&gt;&lt;/script&gt;
    &lt;script async type="text/javascript" src="WacomInkEngine.js"&gt;&lt;/script&gt;
&lt;/head&gt;</code></pre>
<p>The key information is as follows:</p>
<ul>
<li>The <code>Module</code> namespace contains the core functionality for the Wacom ink engine.</li>
<li>You must configure the <code>Module</code> namespace before the engine loads because the engine relies on the namespace. For example, to load successfully, the engine requires the <code>canvas</code> property in the <code>Module</code> namespace.</li>
<li>The <code>Module.addPostScript</code> method loads when the engine is ready. It takes a function as a parameter. You can use this method to extend the functionality of the engine.</li>
</ul>
<h3>Step 2: Configure the HTML file to include additional tools</h3>
<p>These tutorials use the following additional tools:</p>
<ul>
<li>jQuery: For more information about this framework, see <a href="http://jquery.com/">jQuery</a> and <a href="http://api.jquery.com/">jQuery api</a>.</li>
<li>js.ext: This library extends some generic functionality to ensure cross-browser compatibility. This tutorial does not discuss its contents.</li>
</ul>
<p>Add jQuery and js.ext to the HTML page as follows:</p>
<pre><code class="html">&lt;head&gt;
    &lt;script src="jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" src="js.ext.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" src="js.ext.dom.js"&gt;&lt;/script&gt;
&lt;/head&gt;</code></pre>
<p><strong>Note:</strong> Other useful libraries are <a href="../../web-api/Module.RectTools/index.html">Module.RectTools</a> and <a href="../../web-api/Module.GLTools/index.html">Module.GLTools</a>. These libraries are integrated in the drawing engine.</p>
<h3>Step 3: Specify an identifier for the WebGL resource</h3>
<p>You can create WebGL resources through the ink engine, and these resources have identifiers. You can also use resources that were already created.
However, WebGL resources created from the WebGL context do not have identifiers by default.
A resource must have a valid identifier if you want to use the resource with WILL SDK.</p>
<ul>
<li>The <code>createTexture</code> method in the <code>Module.GLTools</code> namespace creates a texture.
This texture is completed with the <em>wrapMode</em> parameter <em>GLctx.CLAMP_TO_EDGE</em> and the <em>sampleMode</em> parameter <em>GLctx.NEAREST</em>, which you can override later.
The <code>Module.GLTools.createTexture(wrapMode, sampleMode)</code> method allows you to specify the <em>wrapMode</em> and <em>sampleMode</em> values.</li>
</ul>
<p><strong>Note:</strong> You can also manage your own WebGL resources outside of the engine. However, this topic is not covered in this tutorial.</p>
<h3>Step 4: Configure WILL</h3>
<p>Perform basic configuration of WILL, as follows:</p>
<pre><code class="javascript">var WILL = {
    backgroundColor: Module.Color.WHITE,
    color: Module.Color.from(204, 204, 204),

    init: function(width, height) {
        this.canvas = new Module.InkCanvas(document.getElementById("canvas"), width, height);
        this.canvas.clear(this.backgroundColor);

        this.brush = new Module.DirectBrush();

        this.pathBuilder = new Module.SpeedPathBuilder();
        this.pathBuilder.setNormalizationConfig(182, 3547);
        this.pathBuilder.setPropertyConfig(Module.PropertyName.Width, 2.05, 34.53, 0.72, NaN, Module.PropertyFunction.Power, 1.19, false);

        this.strokeRenderer = new Module.StrokeRenderer(this.canvas, this.canvas);
        this.strokeRenderer.configure({brush: this.brush, color: this.color});
    },

    draw: function() {
        var points = [0,300,10, 100,100,20, 400,100,40, 500,300,50];
        var path = this.pathBuilder.createPath(points);

        this.strokeRenderer.draw(path, true);
    }
};

Module.addPostScript(function() {
    WILL.init(1600, 600);
    WILL.draw();
});</code></pre>
<p>This configuration is used as a basis in subsequent tutorials and tutorial parts.</p>
<h2>View sample</h2>
<ul>
<li><a href="../tutorials/Sample1/Part1.html">View sample</a></li>
</ul>
<p>The configuration in this sample result shows the following:</p>
<ul>
<li>
<p>A WILL namespace with the <code>backgroundColor</code> property and <code>init</code> method. When the engine is ready, <code>init</code> should be executed.</p>
</li>
<li>
<p>The <code>backgroundColor</code> property is of type <a href="../../web-api/Module/index.html#Color">Module.Color</a>. The color channels should be normalized in the range [0, 1].</p>
<ul>
<li><strong>Note:</strong> You could also use the <code>Module.Color.from(red, green, blue, alpha = 1)</code> method, which accepts color channel parameters in the range [0, 255] and alpha channel parameters in the range [0, 1].</li>
</ul>
</li>
<li>
<p><code>WILL.init(width, height);</code>: The parameters describe the width and height of the canvas. The parameters are handled by the engine and declared explicitly.</p>
</li>
<li>
<p><em>this.canvas</em>: Represents the <a href="../../web-api/Module.InkCanvas/index.html">Module.InkCanvas</a> class, which acts as a wrapper around the HTML canvas element.
This is where the drawing is rendered. To change the size of the canvas, use the <code>resize</code> method of the <code>Module.InkCanvas</code> class.</p>
</li>
<li>
<p><em>this.brush</em>: An instance of <a href="../../web-api/Module.DirectBrush/index.html">Module.DirectBrush</a>. A brush determines how a stroke will be rendered. In this case, the simplest option is used: a solid color brush.</p>
</li>
<li>
<p><em>this.pathBuilder</em>: An instance of <a href="../../web-api/Module.SpeedPathBuilder/index.html">Module.SpeedPathBuilder</a>. A path builder is responsible for stroke building.
It keeps track of the input data. In this case, it is configured to produce paths with variable widths depending on the speed.</p>
</li>
<li>
<p><em>this.strokeRenderer</em>: An instance of <a href="../../web-api/Module.StrokeRenderer/index.html">Module.StrokeRenderer</a>.
The second parameter in the constructor is optional and defines the behavior. For simplicity, set this parameter to <em>canvas</em> to draw directly over the canvas.
This setting is convenient when drawing temporary data. This class can be used in different ways, and in later parts of this tutorial you will see other possible uses.</p>
</li>
<li>The <code>draw</code> method renders a stroke from static path data.
The <code>points</code> array defines four points, each with three fields (determined by <code>this.pathBuilder.stride</code>): <em>X</em>, <em>Y</em>, and <em>Width</em>.
These are the control points of the drawn Catmull-Rom spline. The <code>this.strokeRenderer.draw</code> method requires a path in the <a href="../../web-api/Module/index.html#Path">Module.Path</a> format.
The <code>createPath</code> method is a convenient way to provide data of this type.</li>
</ul>
<h2>Next steps</h2>
<p>At this point, you can continue with this tutorial.</p>
</div> <!-- page -->
			<nav class="prev-next-page">
									<a href="../tutorials-tutorial1-part2/index.html" class="next-page">Building paths from pointer input &raquo;</a>
								</nav>
			</div> <!-- page_content -->

	</div><!-- #sitewrapper -->

	<footer>
		<img src="../../wp-content/themes/will-doc/images/img_logo_wacom.png" alt="" />
<!--
		<span>&nbsp;</span>
		<a href="/contact.html">Contact</a>
		<a href="/support.html">Support</a>
-->
	</footer>
</body>
</html>